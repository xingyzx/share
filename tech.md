# 算法实现

为了能够准确的统计人群人数，并且能够在任意的角度、任意人群密度下工作，我们采用了近年最先进的算法MCNN (Single-Image Crowd Counting via Multi-Column Convolutional Neural Network) 。这个算法能够根据一张随机的人群图片，生成预估的人群人数。由于这个算法使用了3个并行的CNN，并且每个CNN的结果共同影响最终估计，使得这个算法在该任务下有不错的准确性和鲁棒性。
图展示了 MCNN的整体结构。它包含三个并行的 CNN，其滤波器具有不同大小的局部感受域。![Alt text](<截屏2023-10-14 17.08.35.png>)
为简化起见，对所有列使用相同的网络结构（即conv-pooling-conv-pooling）。对每个2×2区域采用最大池化，并采用整流线性单元（ReLU）作为激活函数，因为它在CNN中具有良好的性能。为了降低计算复杂度（需要优化的参数数量），使用了较少的过滤器来处理较大过滤器的CNN。然后，堆叠所有CNN的输出特征图，并将其映射到密度图上。为了将特征图映射到密度图，采用了大小为1×1 的滤波器。然后使用欧氏距离来测量估计密度图与地面实况之间的差异。
在模型的微调上，通过直接将第四卷积层的输出映射到密度图来分别预训练每一列的CNN。使用这些预训练的CNN初始化所有列中的 CNN，并同时微调所有参数。

[论文](https://openaccess.thecvf.com/content_cvpr_2016/papers/Zhang_Single-Image_Crowd_Counting_CVPR_2016_paper.pdf)


![Alt text](<截屏2023-10-14 17.01.58.png>)
![Alt text](<截屏2023-10-14 16.56.45.png>)
![Alt text](<截屏2023-10-14 16.56.57.png>)
![Alt text](<截屏2023-10-14 16.57.14.png>)

将获取到的密度数据与BIM模型的数据结合，将会获得精确度高、空间细粒度好的人群密度数据。为以后的3D渲染、预警和逃生规划等任务带来的极大的优势。

# 硬件
由于算法在采样时只需要单张图片，而人群密度在短时间内并不会迅速变化，我们可以降低采样频率以期获得更好的功耗控制和更低的算力占用，以便将数据在当地运算，只回传人群密度等高价值数据。这为我们平台的搭建带来极大的便利。于是，我们不仅可以设计新型的探测设备，也可以对现有的监控系统等进行改造，使我们的产品得到应用。

# app
我们采取app的形式使用户与我们的数据进行交互，并建立稳定的后端设施，有效保障用户预约的便捷性与稳定性。我们的数据库中采用脱敏技术、敏感数据通过替换、失真等变换降低数据的敏感度，同时保留一定的可用性、统计学特征；除此之外还采用差分隐私，同态加密等技术进一步保证用户的关键信息，同时防止采集数据的泄露。由于计算机技术的各种属性，该APP可在之后随时对投入实践、推广过程中产生的问题、消费者的高需求进行升级与更新，提供可持续发展的新产品。

